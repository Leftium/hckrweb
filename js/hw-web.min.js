!function(t){function e(){}function n(){var e=location.hash.slice(1),t=!1,n=f.current,e=e||c.defaultPath;n&&n!=f.previous&&(f.previous=n),f.current=e;for(var i=0,r=u.length;i<r&&!t;i++){var o=u[i],s=o.path,a=o.name,l=o.fn;"string"==typeof s?s.toLowerCase()==e.toLowerCase()&&(c.before.call(f,s,a),l.call(f),c.on.call(f,s,a),t=!0):(o=e.match(s))&&(c.before.call(f,s,a,o),l.apply(f,o),c.on.call(f,s,a,o),t=!0)}return t||c.notfound.call(f),f}var u=[],c={defaultPath:"/",before:e,on:e,notfound:e},f={
current:null,previous:null,config:function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);return f},add:function(e,t,n){return e&&t&&("function"==typeof t&&(n=t,t=null),u.push({path:e,name:t,fn:n||function(){}})),f},go:function(e){return location.hash=e,f},back:function(e){return f.previous?(history.back(),f.previous=null):e&&(location.hash=e),f}};f.init=function(e){return t.addEventListener("hashchange",n),n()},f.reload=n,t.ruto=f}(window),function(e,d){var p=e.store=function(e,t,n){
var i=p.type;return n&&n.type&&n.type in p.types&&(i=n.type),p.types[i](e,t,n||{})};p.types={},p.type=null,p.addType=function(i,e){p.type||(p.type=i),p.types[i]=e,p[i]=function(e,t,n){return(n=n||{}).type=i,p(e,t,n)}},p.error=function(){return"amplify.store quota exceeded"};var t,i,r,f=/^__amplify__/;function n(u,c){p.addType(u,function(t,e,n){var i,r,o,s,a=e,l=(new Date).getTime();if(!t){a={},s=[],o=0;try{for(t=c.length;t=c.key(o++);)f.test(t)&&((r=JSON.parse(c.getItem(t))
).expires&&r.expires<=l?s.push(t):a[t.replace(f,"")]=r.data);for(;t=s.pop();)c.removeItem(t)}catch(e){}return a}if(t="__amplify__"+t,e===d){if(!((r=(i=c.getItem(t))?JSON.parse(i):{expires:-1}).expires&&r.expires<=l))return r.data;c.removeItem(t)}else if(null===e)c.removeItem(t);else{r=JSON.stringify({data:e,expires:n.expires?l+n.expires:null});try{c.setItem(t,r)}catch(e){p[u]();try{c.setItem(t,r)}catch(e){throw p.error()}}}return a})}for(t in{localStorage:1,sessionStorage:1})try{
window[t].setItem("__amplify__","x"),window[t].removeItem("__amplify__"),n(t,window[t])}catch(e){}if(!p.types.localStorage&&window.globalStorage)try{n("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===p.type&&(p.type="globalStorage")}catch(e){}function o(e){return e===d?d:JSON.parse(JSON.stringify(e))}!function(){if(!p.types.localStorage){var c=document.createElement("div"),f="amplify";c.style.display="none",document.getElementsByTagName("head")[0].appendChild(c)
;try{c.addBehavior("#default#userdata"),c.load(f)}catch(e){return c.parentNode.removeChild(c)}p.addType("userData",function(t,e,n){c.load(f);var i,r,o,s,a,l=e,u=(new Date).getTime();if(!t){for(l={},a=[],s=0;i=c.XMLDocument.documentElement.attributes[s++];)(r=JSON.parse(i.value)).expires&&r.expires<=u?a.push(i.name):l[i.name]=r.data;for(;t=a.pop();)c.removeAttribute(t);return c.save(f),l}if(t=(t=t.replace(
/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")).replace(/^-/,"_-"),e===d){if(!((r=(i=c.getAttribute(t))?JSON.parse(i):{expires:-1}).expires&&r.expires<=u))return r.data;c.removeAttribute(t)}else null===e?c.removeAttribute(t):(o=c.getAttribute(t),r=JSON.stringify({data:e,expires:n.expires?u+n.expires:null}),c.setAttribute(t,r));try{c.save(f)}catch(e){null===o?c.removeAttribute(t):c.setAttribute(t,o),p.userData();try{c.setAttribute(t,r)
,c.save(f)}catch(e){throw null===o?c.removeAttribute(t):c.setAttribute(t,o),p.error()}}return l})}}(),i={},r={},p.addType("memory",function(e,t,n){return e?t===d?o(i[e]):(r[e]&&(clearTimeout(r[e]),delete r[e]),null===t?(delete i[e],null):(i[e]=t,n.expires&&(r[e]=setTimeout(function(){delete i[e],delete r[e]},n.expires)),t)):o(i)})}(this.amplify=this.amplify||{});var Hogan={};!function(e){function c(e,t,n){var i;return t&&"object"==typeof t&&(
void 0!==t[e]?i=t[e]:n&&t.get&&"function"==typeof t.get&&(i=t.get(e))),i}e.Template=function(e,t,n,i){this.r=(e=e||{}).code||this.r,this.c=n,this.options=i||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=a(e),s.test(e)?e.replace(t,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(r,"&#39;").replace(o,"&quot;"):e},t:a,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n
){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],i=t[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[e].base=i,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);i=function(e,t,n,i,r,o){function s(){}
function a(){}a.prototype=(s.prototype=e).subs;var l=new s;for(var u in l.subs=new a,l.subsText={},l.buf="",i=i||{},l.stackSubs=i,l.subsText=o,t)i[u]||(i[u]=t[u]);for(u in i)l.subs[u]=i[u];for(u in r=r||{},l.stackPartials=r,n)r[u]||(r[u]=n[u]);for(u in r)l.partials[u]=r[u];return l}(i,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=i},rp:function(e,t,n,i){e=this.ep(e,n);return e?e.ri(t,n,i):""},rs:function(e,t,n){var i=e[e.length-1];if(f(i))for(
var r=0;r<i.length;r++)e.push(i[r]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,i,r,o,s){return(!f(e)||0!==e.length)&&(s=!!(e="function"==typeof e?this.ms(e,t,n,i,r,o,s):e),!i&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,i){var r,o=e.split("."),s=this.f(o[0],t,n,i),a=this.options.modelGet,l=null;if("."===e&&f(t[t.length-2]))s=t[t.length-1];else for(var u=1;u<o.length;u++)s=void 0!==(r=c(o[u],s,a))?(l=s,r):"";return!(i&&!s)&&(i||"function"!=typeof s||(t.push(l
),s=this.mv(s,t,n),t.pop()),s)},f:function(e,t,n,i){for(var r=!1,o=!1,s=this.options.modelGet,a=t.length-1;0<=a;a--)if(void 0!==(r=c(e,t[a],s))){o=!0;break}return o?i||"function"!=typeof r?r:this.mv(r,t,n):!i&&""},ls:function(e,t,n,i,r,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(a(e.call(t,r,n)),t,i)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options
).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,i,r,o,s){var a=t[t.length-1],e=e.call(a);return"function"==typeof e?!!i||(i=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(e,a,t,n,i.substring(r,o),s)):e},mv:function(e,t,n){t=t[t.length-1],e=e.call(t);return"function"==typeof e?this.ct(a(e.call(t)),t,n):e},sub:function(e,t,n,i){var r=this.subs[e];r&&(this.activeSub=e,r(t,n,
this,i),this.activeSub=!1)}};var t=/&/g,n=/</g,i=/>/g,r=/\'/g,o=/\"/g,s=/[&<>\"\']/;function a(e){return String(null==e?"":e)}var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(a){function l(){return+new Date}var u=!!a.XDomainRequest,c="withCredentials"in new XMLHttpRequest||u,f=!1,d={};try{(f=new Worker("js/hnapi-worker.js")).addEventListener("message",function(e){var t,n=e.data,i=n.url||"";d[i]&&(e=(
t=d[i]).error,t=t.success,delete d[i],n.error?e(n.error):t(n.response))},!1)}catch(e){}function r(t,e,n){var i,r,o,s;e=e||function(){},n=n||function(){},c?f?(d[t]={success:e,error:n},f.postMessage({url:t,timeout:2e4})):((i=d[t]||new(u?XDomainRequest:XMLHttpRequest))._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.abort()},2e4),i.onload=function(){clearTimeout(this._timeout),delete d[t];try{e(JSON.parse(this.responseText))}catch(e){n(e)}},
i.onerror=i.onabort=i.ontimeout=function(e){clearTimeout(this._timeout),delete d[t],n(e)},(i.readyState<=1||u)&&(i.open("GET",t+"?"+l(),!0),i.send()),d[t]=i):(o=(r=a.document).createElement("script"),s="callback"+l(),a[s]=e,o.onerror=n,o.src=t+"?callback="+s,r.body.appendChild(o))}var o=["https://node-hnapi-eu.herokuapp.com/","https://node-hnapi.azurewebsites.net/","https://node-hnapi-eus.azurewebsites.net/"];!function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t]
;e[t]=e[n],e[n]=i}}(o),o.unshift("https://api.hackerwebapp.com/");function s(e,t,n){r(o[0]+e,t,function(){m(0,e,t,n)})}var p=o.length,m=function(e,t,n,i){r(o[e]+t,n,e<p-1?function(){m(e+1,t,n,i)}:i)},e={urls:o,_news:function(e,t){s("news",e,t)},_news2:function(e,t){s("news2",e,t)},item:function(e,t,n){s("item/"+e,t,n)},comments:function(e,t,n){s("comments/"+e,t,n)}};var t=Math.floor(new Date/1e3),h=amplify.store("last_visit")||t,b=amplify.store("num_visits")||0;b++,amplify.store("last_visit",t),
amplify.store("num_visits",b);var v=Number.MAX_SAFE_INTEGER;function g(e){var t=[],n={visit_count:b,time_ago:relativeDate(1e3*h),type:"visit"};for(i=0;i<e.length;i++){h<v&&h>=e[i].date&&t.push(n),v=e[i].date;var r={id:(r=e[i]).id,title:r.link_text,url:r.link,domain:r.source,points:r.points,user:r.submitter,time_ago:relativeDate(1e3*r.date),time:r.date,comments_count:r.comments,type:"link"};r.i=i+1,t.push(r)}return t}e.news=function(e,n,t){var i="news-"+(e=e||"latest"),
r="https://p.leftium.com/p?u=https://hckrnews.com/data/"+e+".js",o="latest"==e?6e4:2592e6;function s(e){var t=(next=amplify.store("next"))?dayjs(next):(lastItem=e[e.length-1],dayjs.unix(lastItem.time));t=(t=t.subtract(1,"day")).format("YYYYMMDD"),amplify.store("next",t);e=g(e);n(e)}e=amplify.store(i);e?(console.log("HIT!:  "+i),s(e)):(console.log("MISS!: "+i),p1=fetch(r),text=p1.then(function(e){p2=e.json(),p2.then(function(e){e?(amplify.store(i,e,{expires:o}),s(e)):t(null)})}))},a.hnapi=e}(
window),function(e){function o(e,t){for(var n,i,r,o=!1;n=e,i=t,r=void 0,o=((r=s.documentElement).matchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||r.msMatchesSelector).call(n,i),!o&&(e=e.parentNode)&&e.ownerDocument;);return!!o&&e}var s=e.document;e.ibento=function(n,e,i){var r=s.body;r.addEventListener(e,function(e){var t=o(e.target,n);t&&i.call(r,e,t)})}}(window);var relativeDate=function(){var e=864e5,t=365*e,n=t/12,s=[[42e3,"just now"],[9e4,"a minute ago"],[
36e5,"minutes ago",6e4],[54e5,"an hour ago"],[e,"hours ago",36e5],[2*e,"yesterday"],[7*e,"days ago",e],[9072e5,"a week ago"],[n,"weeks ago",6048e5],[3942e6,"a month ago"],[t,"months ago",n],[1.5*t,"a year ago"],[Number.MAX_VALUE,"years ago",t]];return function(e,t){for(var n,i=(t=(t=t||(new Date).getTime())instanceof Date?t.getTime():t)-(e=e instanceof Date?e.getTime():e),r=-1,o=s.length;++r<o;)if(i<(n=s[r])[0])return null==n[2]?n[1]:Math.round(i/n[2])+" "+n[1]}}()
;"undefined"!=typeof module&&module.exports&&(module.exports=relativeDate),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.dayjs=t()}(this,function(){"use strict";function i(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e}var r="millisecond",f="second",d="minute",p="hour",m="day",h="week",b="month",s="quarter",v="year",
o=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,g=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,e={s:i,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),e=Math.floor(n/60),n=n%60;return(t<=0?"+":"-")+i(e,2,"0")+":"+i(n,2,"0")},m:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,b),r=t-i<0,e=e.clone().add(n+(r?-1:1),b);return Number(-(n+(t-i)/(r?i-e:e-i))||0)},a:function(e){
return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:b,y:v,w:h,d:m,D:"date",h:p,m:d,s:f,ms:r,Q:s}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},t={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},a="en",l={};l[a]=t;function u(e){return e instanceof _}function c(e,t,n){var i;return e?(
"string"==typeof e?(l[e]&&(i=e),t&&(l[e]=t,i=e)):(t=e.name,l[t]=e,i=t),n||(a=i),i):a}function y(e,t,n){return u(e)?e.clone():((t=t?"string"==typeof t?{format:t,pl:n}:t:{}).date=e,new _(t))}var w=e;w.l=c,w.i=u,w.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var _=((e=n.prototype).parse=function(i){this.$d=function(){var e=i.date,t=i.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){
var n=e.match(o);if(n)return t?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(e)}(),this.init()},e.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},e.$utils=function(){return w},e.isValid=function(){return!(
"Invalid Date"===this.$d.toString())},e.isSame=function(e,t){e=y(e);return this.startOf(t)<=e&&e<=this.endOf(t)},e.isAfter=function(e,t){return y(e)<this.startOf(t)},e.isBefore=function(e,t){return this.endOf(t)<y(e)},e.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},e.year=function(e){return this.$g(e,"$y",v)},e.month=function(e){return this.$g(e,"$M",b)},e.day=function(e){return this.$g(e,"$W",m)},e.date=function(e){return this.$g(e,"$D","date")},e.hour=function(e){return this.$g(e,
"$H",p)},e.minute=function(e){return this.$g(e,"$m",d)},e.second=function(e){return this.$g(e,"$s",f)},e.millisecond=function(e){return this.$g(e,"$ms",r)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(e,t){function n(e,t){return e=w.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r),o?e:e.endOf(m)}function i(e,t){return w.w(r.toDate()[e].apply(r.toDate(),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),r)}var r=this,o=!!w.u(t)||t,
e=w.p(e),s=this.$W,a=this.$M,l=this.$D,u="set"+(this.$u?"UTC":"");switch(e){case v:return o?n(1,0):n(31,11);case b:return o?n(1,a):n(0,a+1);case h:var c=this.$locale().weekStart||0,c=(s<c?s+7:s)-c;return n(o?l-c:l+(6-c),a);case m:case"date":return i(u+"Hours",0);case p:return i(u+"Minutes",1);case d:return i(u+"Seconds",2);case f:return i(u+"Milliseconds",3);default:return this.clone()}},e.endOf=function(e){return this.startOf(e,!1)},e.$set=function(e,t){var n=w.p(e),i="set"+(this.$u?"UTC":""),
e=((e={}).day=i+"Date",e.date=i+"Date",e[b]=i+"Month",e[v]=i+"FullYear",e[p]=i+"Hours",e[d]=i+"Minutes",e[f]=i+"Seconds",e[r]=i+"Milliseconds",e[n]),t=n===m?this.$D+(t-this.$W):t;return n===b||n===v?((n=this.clone().set("date",1)).$d[e](t),n.init(),this.$d=n.set("date",Math.min(this.$D,n.daysInMonth())).toDate()):e&&this.$d[e](t),this.init(),this},e.set=function(e,t){return this.clone().$set(e,t)},e.get=function(e){return this[w.p(e)]()},e.add=function(n,e){var i=this;n=Number(n);var t=w.p(e),
e=function(e){var t=y(i);return w.w(t.date(t.date()+Math.round(e*n)),i)};if(t===b)return this.set(b,this.$M+n);if(t===v)return this.set(v,this.$y+n);if(t===m)return e(1);if(t===h)return e(7);(e={})[d]=6e4,e[p]=36e5,e[f]=1e3,t=e[t]||1,t=this.$d.getTime()+n*t;return w.w(t,this)},e.subtract=function(e,t){return this.add(-1*e,t)},e.format=function(e){var r=this;if(!this.isValid())return"Invalid Date";function t(e,t,n,i){return e&&(e[t]||e(r,o))||n[t].substr(0,i)}function n(e){return w.s(a%12||12,e,
"0")}var o=e||"YYYY-MM-DDTHH:mm:ssZ",i=w.z(this),s=this.$locale(),a=this.$H,l=this.$m,u=this.$M,c=s.weekdays,f=s.months,e=s.meridiem||function(e,t,n){e=e<12?"AM":"PM";return n?e.toLowerCase():e},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:w.s(u+1,2,"0"),MMM:t(s.monthsShort,u,f,3),MMMM:f[u]||f(this,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:t(s.weekdaysMin,this.$W,c,2),ddd:t(s.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:w.s(a,2,"0"),h:n(1),hh:n(2),a:e(a,l,!0),
A:e(a,l,!1),m:String(l),mm:w.s(l,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:i};return o.replace(g,function(e,t){return t||d[e]||i.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(e,t,n){var i=w.p(t),r=y(e),o=6e4*(r.utcOffset()-this.utcOffset()),t=this-r,e=w.m(this,r),r={};return r[v]=e/12,r[b]=e,r[s]=e/3,r[h]=(t-o)/6048e5,r.day=(t-o)/864e5,r[p]=t/36e5,r[d]=t/6e4,r[f]=t/1e3,e=r[i]||t,n?e:w.a(e)},
e.daysInMonth=function(){return this.endOf(b).$D},e.$locale=function(){return l[this.$L]},e.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),t=c(e,t,!0);return t&&(n.$L=t),n},e.clone=function(){return w.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},n);function n(e){this.$L=this.$L||c(
e.locale,null,!0),this.parse(e)}return y.prototype=_.prototype,y.extend=function(e,t){return e(t,_,y),y},y.locale=c,y.isDayjs=u,y.unix=function(e){return y(1e3*e)},y.en=l[a],y.Ls=l,y}),function(e){TEMPLATES={"comments-toggle":new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<button class="comments-toggle">'),i.b(i.v(i.f("comments_count",e,t,0))),i.b(" "),i.b(i.v(i.f("i_reply",e,t,0))),i.b("</button>"),i.fl()},partials:{},subs:{}}),comments:new e({code:function(e,t,n){var i=this
;return i.b(n=n||""),i.s(i.f("comments",e,t,1),e,t,0,13,418,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<li><p class="metadata '),n.s(n.f("deleted",e,t,1),e,t,0,48,55,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("deleted")}),e.pop()),n.b('">'),n.s(n.f("deleted",e,t,1),e,t,0,81,103,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<span>[deleted]</span>")}),e.pop()),n.s(n.f("deleted",e,t,1),e,t,1,0,0,"")||(n.b('<a href="https://news.ycombinator.com/user?id='),n.b(n.v(n.f("user",e,t,0))),n.b(
'" target="_blank"><b class="user">'),n.b(n.v(n.f("user",e,t,0))),n.b("</b></a>")),n.b('<time><a href="https://news.ycombinator.com/item?id='),n.b(n.v(n.f("id",e,t,0))),n.b('" target="_blank">'),n.b(n.v(n.f("time_ago",e,t,0))),n.b("</a></time></p>"),n.s(n.f("deleted",e,t,1),e,t,1,0,0,"")||(n.b("<p>"),n.b(n.t(n.f("content",e,t,0))),n.b("<ul>"),n.b(n.rp("<comments_list0",e,t,"")),n.b("</ul>")),n.b("</li>")}),e.pop()),i.fl()},partials:{"<comments_list0":{name:"comments_list",partials:{},subs:{}}},
subs:{}}),"post-comments":new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="post-content">'),i.s(i.f("has_post",e,t,1),e,t,0,39,573,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<header><a href="'),n.b(n.v(n.f("url",e,t,0))),n.b('" target="_blank"><h1>'),n.b(n.v(n.f("title",e,t,0))),n.b("</h1>"),n.s(n.f("user",e,t,1),e,t,0,108,171,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("domain",e,t,1),e,t,0,119,160,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="link-text">'),n.b(
n.v(n.f("domain",e,t,0))),n.b("</span>")}),e.pop())}),e.pop()),n.b('</a><p class="metadata">'),n.s(n.f("user",e,t,1),e,t,0,213,408,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="inline-block">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b(" by "),n.b(n.v(n.f("user",e,t,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.s(n.f("comments_count",e,t,1),e,t,0,340,382,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" &middot; "),n.b(n.v(n.f(
"comments_count",e,t,0))),n.b(" "),n.b(n.v(n.f("i_comment",e,t,0)))}),e.pop()),n.b("</span>")}),e.pop()),n.s(n.f("user",e,t,1),e,t,1,0,0,"")||(n.b('<span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.b("</span>")),n.b('<a href="'),n.b(n.v(n.f("hn_url",e,t,0))),n.b('" target="_blank" class="external-link">'),n.b(n.v(n.f("short_hn_url",e,t,0))),n.b("</a></p></header>")}),e.pop()),i.s(i.f("has_content",e,t,1),e,t,0,602,925,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(
'<section class="grouped-tableview">'),n.b(n.t(n.f("content",e,t,0))),n.s(n.f("has_poll",e,t,1),e,t,0,663,902,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<ul class="poll">'),n.s(n.f("poll",e,t,1),e,t,0,689,888,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<li title="'),n.b(n.v(n.f("percentage",e,t,0))),n.b('%"><span class="poll-details"><b>'),n.b(n.v(n.f("item",e,t,0))),n.b('</b> <span class="points">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b(
'</span></span><div class="poll-bar"><span style="width: '),n.b(n.v(n.f("width",e,t,0))),n.b('"></span></div></li>')}),e.pop()),n.b("</ul>")}),e.pop()),n.b("</section>")}),e.pop()),i.b('</div><section class="comments">'),i.s(i.f("loading",e,t,1),e,t,0,985,1055,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="loader"><i class="icon-loading"></i> Loading&hellip;</div>')}),e.pop()),i.s(i.f("load_error",e,t,1),e,t,0,1082,1165,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(
'<div class="load-error">Couldn\'t load comments.<br><button>Try again</button></div>')}),e.pop()),i.s(i.f("loading",e,t,1),e,t,1,0,0,"")||i.s(i.f("load_error",e,t,1),e,t,1,0,0,"")||(i.s(i.f("has_comments",e,t,1),e,t,0,1224,1251,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("<ul>"),n.b(n.rp("<comments_list0",e,t,"")),n.b("</ul>")}),e.pop()),i.s(i.f("has_comments",e,t,1),e,t,1,0,0,"")||i.b('<p class="no-comments">No comments.</p>')),i.b("</section>"),i.fl()},partials:{"<comments_list0":{
name:"comments_list",partials:{},subs:{}}},subs:{}}),post:new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<li id="story-'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-index="'),i.b(i.v(i.f("i",e,t,0))),i.b('" class="post-'),i.b(i.v(i.f("type",e,t,0))),i.b('"><a href="#/item/'),i.b(i.v(i.f("id",e,t,0))),i.b('" class="'),i.s(i.f("detail_disclosure",e,t,1),e,t,0,116,133,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("detail-disclosure")}),e.pop()),i.s(i.f("disclosure",e,t,1),e,t,0,170,180,
"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("disclosure")}),e.pop()),i.b(" "),i.s(i.f("selected",e,t,1),e,t,0,209,217,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("selected")}),e.pop()),i.b('"><div class="number">'),i.b(i.v(i.f("i",e,t,0))),i.b('</div><div class="story"><b>'),i.b(i.v(i.f("title",e,t,0))),i.b("</b>"),i.s(i.f("user",e,t,1),e,t,0,307,591,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="metadata">'),n.s(n.f("domain",e,t,1),e,t,0,340,379,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(
'<div class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</div>")}),e.pop()),n.b('<span class="inline-block">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b(" by "),n.b(n.v(n.f("user",e,t,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.s(n.f("comments_count",e,t,1),e,t,0,517,559,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",e,t,0))),n.b(" "),n.b(n.v(n.f("i_comment",e,t,0)))}),e.pop()),n.b(
"</span></div>")}),e.pop()),i.s(i.f("user",e,t,1),e,t,1,0,0,"")||(i.b('<div class="metadata">'),i.s(i.f("domain",e,t,1),e,t,0,642,687,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</span><br>")}),e.pop()),i.b('<span class="inline-block">'),i.b(i.v(i.f("time_ago",e,t,0))),i.b("</span></div>")),i.b("</div></a>"),i.s(i.f("detail_disclosure",e,t,1),e,t,0,791,859,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("url",e,t,0))),
n.b('" class="detail-disclosure-button"><span></span></a>')}),e.pop()),i.b("</li>"),i.fl()},partials:{},subs:{}}),"stories-load":new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("loading",e,t,1),e,t,0,12,82,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="loader"><i class="icon-loading"></i> Loading&hellip;</div>')}),e.pop()),i.s(i.f("load_error",e,t,1),e,t,0,109,161,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="load-error">Couldn\'t load stories.</div>')}),e.pop()),
i.fl()},partials:{},subs:{}}),visit:new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<li>    <a>        <div class="number"></div>        <div class="story">            <b>Last refreshed: '),i.b(i.v(i.f("time_ago",e,t,0))),i.b('</b>            <span class="metadata">                '),i.b(i.v(i.f("visit_count",e,t,0))),i.b(" "),i.b(i.v(i.f("i_visit",e,t,0))),i.b(" total            </span>        </div>    </a></li>"),i.fl()},partials:{},subs:{}})}}(Hogan.Template),function(e){
var g=e.document,u=e.$=function(e){return g.getElementById(e)},o={},y={pub:function(e,t){var n=o[e];if(n)for(var i=0,r=n.length;i<r;i++)n[i].call(this,t)},sub:function(e,t){o[e]||(o[e]=[]),o[e].push(t)},currentView:null,hideAllViews:function(){for(var e=g.querySelectorAll(".view"),t=0,n=e.length;t<n;t++)e[t].classList.add("hidden")},tmpl:function(e,t){e=TEMPLATES[e];if(e)return t?e.render(t):e},setTitle:function(e){var t="HckrWeb";e&&(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase()!=t.toLowerCase(
)&&(t=e+" â€“ "+t),document.title=t}};"undefined"!=typeof ga&&y.sub("logAPIError",function(e){ga("send","event","Errors","API",e)});var w=y.tmpl;amplify.store.sessionStorage&&"function"==typeof amplify.store.sessionStorage||(amplify.store.sessionStorage=amplify.store.memory);function _(e){var t=a[e];if(t)return t;s.href=e;var n=s.hostname.replace(/^www\./,""),i=(r=s.pathname.replace(/^\//,"").split("/")[0]).length,r=n.length<=25&&3<i&&i<=15&&/^[^0-9][^.]+$/.test(r)?"/"+r:"";return a[e]=t=n+r}
var s=g.createElement("a"),a={},l=g.querySelector("#view-home .scroll").querySelector("section"),c=!1;y.news={options:{disclosure:!0},markupStory:function(e){return/^item/i.test(e.url)?e.url="#/item/"+e.id:(e.external=!0,e.domain=_(e.url)),y.news.options.disclosure?("link"==e.type&&(e.detail_disclosure=!0),/^#\//.test(e.url)&&(e.detail_disclosure=!1,e.disclosure=!0,e.domain=null)):e.id&&(e.url="#/item/"+e.id),e.i_point=1==e.points?"point":"points",
e.i_comment=1==e.comments_count?"comment":"comments","visit"==e.type?(e.i_visit=1==e.visit_count?"refresh":"refreshes",w("visit",e)):w("post",e)},markupStories:function(e,t){var n="";var i=y.news.markupStory;return e.forEach(function(e){n+=i(e)}),n},updateStory:function(e){if(e&&e.id){var n,i,t=e.id,r=e.data,e="hacker-news",o=amplify.store(e);if(o)for(var s=0,a=o.length;s<a;s++)if(t==(l=o[s]).id){n=l;break}if(!n&&(e="hacker-news2",o=amplify.store(e)))for(var l,s=0,a=o.length;s<a;s++)if(t==(
l=o[s]).id){n=l;break}n&&(i=!1,["title","url","time_ago","comments_count","points"].forEach(function(e){var t=r[e];n[e]!=t&&(n[e]=t,i=!0)}),i&&(amplify.store(e,o),(e=u("story-"+t))&&(n.selected=!!e.querySelector("a[href].selected"),n.i=e.dataset?e.dataset.index:e.getAttribute("data-index"),e.insertAdjacentHTML("afterend",y.news.markupStory(n)),e.parentNode.removeChild(e))))}},render:function(e){var t,n,i,r,o;c||(e=e||{},t=amplify.store("hacker-news-cached"),n=w("stories-load"),i=function(e){
var t=e.slice(),e=amplify.store("next"),e='<ul class="tableview tableview-links" id="hwlist">'+y.news.markupStories(t)+'<li><a class="more-link">More&hellip; ('+e+') <span class="loader"><i class="icon-loading"></i></span></a></li></ul>';l.innerHTML=e,y.pub("onRenderNews")},t?(r=amplify.store("hacker-news"),(e=e.delay)?(c=!0,l.innerHTML=n.render({loading:!0}),setTimeout(function(){c=!1,i(r)},e)):i(r)):(c=!0,l.innerHTML=n.render({loading:!0}),o=function(){l.innerHTML=n.render({load_error:!0}),
y.pub("logAPIError","news")},hnapi.news(null,function(e){c=!1,e&&!e.error?i(e):o()},function(e){c=!1,o()})))},reload:function(){amplify.store("news-latest",null),amplify.store("next",null),y.news.render({})},more:function(n){var e;n.classList.contains("loading")||(n.classList.add("loading"),amplify.store("hacker-news2"),e=amplify.store("next"),hnapi.news(e,function(e){n.classList.remove("loading");var t=n.parentNode;t&&(t.parentNode&&t.parentNode.removeChild(t),e&&(e=e.slice(),
e=y.news.markupStories(e),u("hwlist").insertAdjacentHTML("beforeend",e),e=amplify.store("next"),u("hwlist").insertAdjacentHTML("beforeend",'<li><a class="more-link">More&hellip; ('+e+') <span class="loader"></span></a></li>')))}))}};var t=u("view-comments"),S=t.querySelector("header h1"),k=t.querySelector("section");y.comments={currentID:null,render:function(t){if(t){var e=amplify.store.sessionStorage("hacker-item-"+t);if(y.comments.currentID!=t||!e){y.comments.currentID=t;function n(e,t){
var n=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(e),i=w("post-comments");if(n.has_post=!!n.title||"comment"==n.type,!n.has_post)return y.setTitle(),S.innerHTML="",k.innerHTML=i.render(n),y.pub("adjustCommentsSection"),void y.pub("onRenderComments");var r,o,e=w("comments");/^item/i.test(n.url)?n.url="//news.ycombinator.com/"+n.url:n.domain=_(n.url),n.has_comments=n.comments&&!!n.comments.length,n.i_point=1==n.points?"point":"points",
n.i_comment=1==n.comments_count?"comment":"comments",n.has_content=!!n.content,n.poll&&(o=r=0,n.poll.forEach(function(e){var t=e.points;o<t&&(o=t),r+=t,e.i_point=1==t?"point":"points"}),n.poll.forEach(function(e){var t=e.points;e.percentage=(t/r*100).toFixed(1),e.width=(t/o*100).toFixed(1)+"%"}),n.has_poll=n.has_content=!0),n.short_hn_url="news.ycombinator.com/item?id="+t,n.hn_url="//"+n.short_hn_url,y.setTitle(n.title),S.innerHTML=n.title;var e=i.render(n,{comments_list:e}),s=g.createElement(
"div");s.innerHTML=e;for(var a=s.querySelectorAll("a"),l=0,u=a.length;l<u;l++)a[l].target="_blank";var c=n.user;if(c)for(var f=s.querySelectorAll(".user"),l=0,u=f.length;l<u;l++){var d=f[l];d.textContent.trim()==c&&(d.classList.add("op"),d.title="Original Poster")}if(2e4<e.length)for(var p=s.querySelectorAll(".comments>ul>li>ul"),m=w("comments-toggle"),h=0,u=p.length;h<u;h++){var b=p[h],v=b.querySelectorAll(".metadata").length;b.style.display="none",v&&b.insertAdjacentHTML("beforebegin",
m.render({comments_count:v,i_reply:1==v?"reply":"replies"}))}for(;k.hasChildNodes();)k.removeChild(k.childNodes[0]);for(;s.hasChildNodes();)k.appendChild(s.childNodes[0]);delete s,y.pub("onRenderComments")}if(e)k.scrollTop=0,n(e,t);else{var i=amplify.store("hacker-news");if(i)for(var r=0,o=i.length;r<o;r++){var s=i[r];if(t==s.id){e=s;break}}if(!e)if(i=amplify.store("hacker-news2"))for(r=0,o=i.length;r<o;r++){s=i[r];if(t==s.id){e=s;break}}e?(e.loading=!0,n(e,t)):n({loading:!0},t);function a(){e?(
delete e.loading,e.load_error=!0,n(e,t)):n({load_error:!0},t),y.pub("logAPIError","comments")}hnapi.item(t,function(e){y.comments.currentID==t&&(!e||e.error&&"comments"==y.currentView?a():(amplify.store.sessionStorage("hacker-item-"+t,e,{expires:3e5}),y.news.updateStory({id:t,data:e}),n(e,t)))},function(e){y.comments.currentID==t&&a()})}}}},toggle:function(e){var t=e.nextElementSibling;t&&(e=t.style,t=k.scrollTop,e.display="none"==e.display?"":"none",k.scrollTop=t)},reload:function(){
y.comments.currentID=null,ruto.reload()}},y.init=function(){amplify.store("next",null),y.news.render(),ruto.init(),function e(){var t,n,i,r,o,s=Array.from(document.styleSheets).find(function(e){return/hw.*\.css/i.test(e.href)});function a(e){"dark"===e?(t.media.mediaText="screen",i.content="dark"):"light"===e?(t.media.mediaText="not all",i.content="light"):(t.media.mediaText="(prefers-color-scheme: dark)",i.content="dark light")}s?(t=Array.from(s.cssRules).find(function(e){
return e.media&&/color-scheme:\s*dark/i.test(e.media.mediaText)}))&&(u("hw-appearance-container").hidden=!1,n=u("hw-appearance"),i=u("meta-color-scheme"),r=window.matchMedia&&"not all"!==window.matchMedia("(prefers-color-scheme)").media,o="hw-appearance",a(s=localStorage.getItem(o)||"auto"),r?(n.querySelector("[name=hw-appearance][value=auto]").parentNode.hidden=!1,n.querySelector("[name=hw-appearance][value="+s+"]").checked=!0):(/(light|dark)/i.test(s)||(s="light"),n.querySelector(
'[name=hw-appearance][value="'+s+'"]').checked=!0),n.onclick=function(){var e=n.querySelector("[name=hw-appearance]:checked").value;localStorage.setItem(o,e),a(e)}):setTimeout(e,1e3)}()},e.hw=y,ruto.config({before:function(e,t){y.hideAllViews();var n=u("view-"+t);n.classList.remove("hidden"),y.currentView=t,y.setTitle(n.querySelector("header h1").textContent)},notfound:function(){ruto.go("/")}}).add("/","home").add("/about","about").add(/^\/item\/(\d+)$/i,"comments",function(e,t){
y.comments.render(t)})}(window),function(i){var n,r,e,o,t,s,a,l;i.addEventListener&&((n=i.document).body,r={},o=function(){return i.pageYOffset||"CSS1Compat"===n.compatMode&&n.documentElement.scrollTop||0},i.addEventListener("scroll",function(){clearTimeout(e),e=setTimeout(t,500)},!(t=function(){var e=location.hash.slice(1),t=r[e]=o();amplify.store.sessionStorage("hacker-scrolltop-"+e,t)})),ruto.config({on:function(){var e=location.hash.slice(1),t="hacker-scrolltop-"+e,
n=amplify.store.sessionStorage(t);i.scrollTo(0,r[e]||n||0),n=r[e]=o(),amplify.store.sessionStorage(t,n)}}),s=n.head||n.getElementsByTagName("head")[0],i.addEventListener("resize",a=function(){var e=i.innerHeight,t=$("view-height");t||((t=n.createElement("style")).id="view-height",s.appendChild(t)),788<=i.innerWidth&&(e*=.9),t.textContent=".view>.scroll{min-height: "+e+"px}"},!1),i.addEventListener("orientationchange",a,!1),a(),ibento("#view-home-refresh","click",hw.news.reload),ibento(
"#view-home .more-link","click",function(e,t){hw.news.more(t)}),ibento("button.comments-toggle","click",function(e,t){hw.comments.toggle(t)}),ibento("#view-comments .load-error button","click",hw.comments.reload),/Mobile;.*Firefox/.test(navigator.userAgent)&&navigator.mozApps&&((l=navigator.mozApps.getSelf()).onsuccess=function(){l.result&&ibento('a[href]:not([href^="#"])',"click",function(e,t){e.preventDefault(),window.open(t.href,"browser")})}),window.onload=hw.init)}(window);
//# sourceMappingURL=hw-web.min.js.map