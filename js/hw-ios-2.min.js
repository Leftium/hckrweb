!function(t){function e(){}function n(){var e=location.hash.slice(1),t=!1,n=f.current,e=e||c.defaultPath;n&&n!=f.previous&&(f.previous=n),f.current=e;for(var i=0,r=l.length;i<r&&!t;i++){var o=l[i],s=o.path,a=o.name,u=o.fn;"string"==typeof s?s.toLowerCase()==e.toLowerCase()&&(c.before.call(f,s,a),u.call(f),c.on.call(f,s,a),t=!0):(o=e.match(s))&&(c.before.call(f,s,a,o),u.apply(f,o),c.on.call(f,s,a,o),t=!0)}return t||c.notfound.call(f),f}var l=[],c={defaultPath:"/",before:e,on:e,notfound:e},f={
current:null,previous:null,config:function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);return f},add:function(e,t,n){return e&&t&&("function"==typeof t&&(n=t,t=null),l.push({path:e,name:t,fn:n||function(){}})),f},go:function(e){return location.hash=e,f},back:function(e){return f.previous?(history.back(),f.previous=null):e&&(location.hash=e),f}};f.init=function(e){return t.addEventListener("hashchange",n),n()},f.reload=n,t.ruto=f}(window),function(e,d){var h=e.store=function(e,t,n){
var i=h.type;return n&&n.type&&n.type in h.types&&(i=n.type),h.types[i](e,t,n||{})};h.types={},h.type=null,h.addType=function(i,e){h.type||(h.type=i),h.types[i]=e,h[i]=function(e,t,n){return(n=n||{}).type=i,h(e,t,n)}},h.error=function(){return"amplify.store quota exceeded"};var t,i,r,f=/^__amplify__/;function n(l,c){h.addType(l,function(t,e,n){var i,r,o,s,a=e,u=(new Date).getTime();if(!t){a={},s=[],o=0;try{for(t=c.length;t=c.key(o++);)f.test(t)&&((r=JSON.parse(c.getItem(t))
).expires&&r.expires<=u?s.push(t):a[t.replace(f,"")]=r.data);for(;t=s.pop();)c.removeItem(t)}catch(e){}return a}if(t="__amplify__"+t,e===d){if(!((r=(i=c.getItem(t))?JSON.parse(i):{expires:-1}).expires&&r.expires<=u))return r.data;c.removeItem(t)}else if(null===e)c.removeItem(t);else{r=JSON.stringify({data:e,expires:n.expires?u+n.expires:null});try{c.setItem(t,r)}catch(e){h[l]();try{c.setItem(t,r)}catch(e){throw h.error()}}}return a})}for(t in{localStorage:1,sessionStorage:1})try{
window[t].setItem("__amplify__","x"),window[t].removeItem("__amplify__"),n(t,window[t])}catch(e){}if(!h.types.localStorage&&window.globalStorage)try{n("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===h.type&&(h.type="globalStorage")}catch(e){}function o(e){return e===d?d:JSON.parse(JSON.stringify(e))}!function(){if(!h.types.localStorage){var c=document.createElement("div"),f="amplify";c.style.display="none",document.getElementsByTagName("head")[0].appendChild(c)
;try{c.addBehavior("#default#userdata"),c.load(f)}catch(e){return c.parentNode.removeChild(c)}h.addType("userData",function(t,e,n){c.load(f);var i,r,o,s,a,u=e,l=(new Date).getTime();if(!t){for(u={},a=[],s=0;i=c.XMLDocument.documentElement.attributes[s++];)(r=JSON.parse(i.value)).expires&&r.expires<=l?a.push(i.name):u[i.name]=r.data;for(;t=a.pop();)c.removeAttribute(t);return c.save(f),u}if(t=(t=t.replace(
/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")).replace(/^-/,"_-"),e===d){if(!((r=(i=c.getAttribute(t))?JSON.parse(i):{expires:-1}).expires&&r.expires<=l))return r.data;c.removeAttribute(t)}else null===e?c.removeAttribute(t):(o=c.getAttribute(t),r=JSON.stringify({data:e,expires:n.expires?l+n.expires:null}),c.setAttribute(t,r));try{c.save(f)}catch(e){null===o?c.removeAttribute(t):c.setAttribute(t,o),h.userData();try{c.setAttribute(t,r)
,c.save(f)}catch(e){throw null===o?c.removeAttribute(t):c.setAttribute(t,o),h.error()}}return u})}}(),i={},r={},h.addType("memory",function(e,t,n){return e?t===d?o(i[e]):(r[e]&&(clearTimeout(r[e]),delete r[e]),null===t?(delete i[e],null):(i[e]=t,n.expires&&(r[e]=setTimeout(function(){delete i[e],delete r[e]},n.expires)),t)):o(i)})}(this.amplify=this.amplify||{});var Hogan={};!function(e){function c(e,t,n){var i;return t&&"object"==typeof t&&(
void 0!==t[e]?i=t[e]:n&&t.get&&"function"==typeof t.get&&(i=t.get(e))),i}e.Template=function(e,t,n,i){this.r=(e=e||{}).code||this.r,this.c=n,this.options=i||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=a(e),s.test(e)?e.replace(t,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(r,"&#39;").replace(o,"&quot;"):e},t:a,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n
){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],i=t[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[e].base=i,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);i=function(e,t,n,i,r,o){function s(){}
function a(){}a.prototype=(s.prototype=e).subs;var u=new s;for(var l in u.subs=new a,u.subsText={},u.buf="",i=i||{},u.stackSubs=i,u.subsText=o,t)i[l]||(i[l]=t[l]);for(l in i)u.subs[l]=i[l];for(l in r=r||{},u.stackPartials=r,n)r[l]||(r[l]=n[l]);for(l in r)u.partials[l]=r[l];return u}(i,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=i},rp:function(e,t,n,i){e=this.ep(e,n);return e?e.ri(t,n,i):""},rs:function(e,t,n){var i=e[e.length-1];if(f(i))for(
var r=0;r<i.length;r++)e.push(i[r]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,i,r,o,s){return(!f(e)||0!==e.length)&&(s=!!(e="function"==typeof e?this.ms(e,t,n,i,r,o,s):e),!i&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,i){var r,o=e.split("."),s=this.f(o[0],t,n,i),a=this.options.modelGet,u=null;if("."===e&&f(t[t.length-2]))s=t[t.length-1];else for(var l=1;l<o.length;l++)s=void 0!==(r=c(o[l],s,a))?(u=s,r):"";return!(i&&!s)&&(i||"function"!=typeof s||(t.push(u
),s=this.mv(s,t,n),t.pop()),s)},f:function(e,t,n,i){for(var r=!1,o=!1,s=this.options.modelGet,a=t.length-1;0<=a;a--)if(void 0!==(r=c(e,t[a],s))){o=!0;break}return o?i||"function"!=typeof r?r:this.mv(r,t,n):!i&&""},ls:function(e,t,n,i,r,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(a(e.call(t,r,n)),t,i)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options
).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,i,r,o,s){var a=t[t.length-1],e=e.call(a);return"function"==typeof e?!!i||(i=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(e,a,t,n,i.substring(r,o),s)):e},mv:function(e,t,n){t=t[t.length-1],e=e.call(t);return"function"==typeof e?this.ct(a(e.call(t)),t,n):e},sub:function(e,t,n,i){var r=this.subs[e];r&&(this.activeSub=e,r(t,n,
this,i),this.activeSub=!1)}};var t=/&/g,n=/</g,i=/>/g,r=/\'/g,o=/\"/g,s=/[&<>\"\']/;function a(e){return String(null==e?"":e)}var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(a){function u(){return+new Date}var l=!!a.XDomainRequest,c="withCredentials"in new XMLHttpRequest||l,f=!1,d={};try{(f=new Worker("js/hnapi-worker.js")).addEventListener("message",function(e){var t,n=e.data,i=n.url||"";d[i]&&(e=(
t=d[i]).error,t=t.success,delete d[i],n.error?e(n.error):t(n.response))},!1)}catch(e){}function r(t,e,n){var i,r,o,s;e=e||function(){},n=n||function(){},c?f?(d[t]={success:e,error:n},f.postMessage({url:t,timeout:2e4})):((i=d[t]||new(l?XDomainRequest:XMLHttpRequest))._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.abort()},2e4),i.onload=function(){clearTimeout(this._timeout),delete d[t];try{e(JSON.parse(this.responseText))}catch(e){n(e)}},
i.onerror=i.onabort=i.ontimeout=function(e){clearTimeout(this._timeout),delete d[t],n(e)},(i.readyState<=1||l)&&(i.open("GET",t+"?"+u(),!0),i.send()),d[t]=i):(o=(r=a.document).createElement("script"),s="callback"+u(),a[s]=e,o.onerror=n,o.src=t+"?callback="+s,r.body.appendChild(o))}var o=["https://node-hnapi-eu.herokuapp.com/","https://node-hnapi.azurewebsites.net/","https://node-hnapi-eus.azurewebsites.net/"];!function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t]
;e[t]=e[n],e[n]=i}}(o),o.unshift("https://api.hackerwebapp.com/");function s(e,t,n){r(o[0]+e,t,function(){m(0,e,t,n)})}var h=o.length,m=function(e,t,n,i){r(o[e]+t,n,e<h-1?function(){m(e+1,t,n,i)}:i)},e={urls:o,_news:function(e,t){s("news",e,t)},_news2:function(e,t){s("news2",e,t)},item:function(e,t,n){s("item/"+e,t,n)},comments:function(e,t,n){s("comments/"+e,t,n)}};var t=Math.floor(new Date/1e3),p=amplify.store("last_visit")||t,v=amplify.store("num_visits")||0;v++,amplify.store("last_visit",t),
amplify.store("num_visits",v);var b=Number.MAX_SAFE_INTEGER;function w(e){var t=[],n={visit_count:v,time_ago:relativeDate(1e3*p),type:"visit"};for(i=0;i<e.length;i++){p<b&&p>=e[i].date&&t.push(n),b=e[i].date;var r={id:(r=e[i]).id,title:r.link_text,url:r.link,domain:r.source,points:r.points,user:r.submitter,time_ago:relativeDate(1e3*r.date),time:r.date,comments_count:r.comments,type:"link"};r.i=i+1,t.push(r)}return t}e.news=function(e,n,t){var i="news-"+(e=e||"latest"),
r="https://p.leftium.com/p?u=https://hckrnews.com/data/"+e+".js",o="latest"==e?6e4:2592e6;function s(e){var t=(next=amplify.store("next"))?dayjs(next):(lastItem=e[e.length-1],dayjs.unix(lastItem.time));t=(t=t.subtract(1,"day")).format("YYYYMMDD"),amplify.store("next",t);e=w(e);n(e)}e=amplify.store(i);e?(console.log("HIT!:  "+i),s(e)):(console.log("MISS!: "+i),p1=fetch(r),text=p1.then(function(e){p2=e.json(),p2.then(function(e){e?(amplify.store(i,e,{expires:o}),s(e)):t(null)})}))},a.hnapi=e}(
window),function(e,t){"function"==typeof define&&define.amd?define("tappable",[],function(){return t(e,window.document),e.tappable}):t(e,window.document)}(this,function(e,k){function $(e,t){return t=3==(t=k.elementFromPoint(e,t)).nodeType?t.parentNode:t}function n(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}function L(e,t){t&&(e.classList?e.classList.add(t):-1<n(e.className).indexOf(t)||(e.className=n(e.className+" "+t)))}function x(e,t){t&&(e.classList?e.classList.remove(t
):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)"),"$1"))}function D(e,t){for(var n,i,r,o=!1;n=e,i=t,r=void 0,o=((r=k.documentElement).matchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector||r.msMatchesSelector).call(n,i),!o&&(e=e.parentNode)&&e.ownerDocument;);return!!o&&e}var I=Math.abs,t=function(){},N={noScroll:!1,activeClass:"tappable-active",onTap:t,onStart:t,onMove:t,onMoveOut:t,onMoveIn:t,onEnd:t,onCancel:t,allowClick:!1,boundMargin:50,
noScrollDelay:0,activeClassDelay:0,inactiveClassDelay:0},t="ontouchend"in document,A={start:t?"touchstart":"mousedown",move:t?"touchmove":"mousemove",end:t?"touchend":"mouseup"};e.tappable=function(i,e){"function"==typeof e&&(e={onTap:e});var t,o={};for(t in N)o[t]=e[t]||N[t];function n(e){var t,n=D(function(e){var t=e.target;if(t)return t=3==t.nodeType?t.parentNode:t;e=e.targetTouches[0];return $(e.clientX,e.clientY)}(e),i);n&&(T?(clearTimeout(m),m=setTimeout(function(){L(n,g)},T)):L(n,g),
S&&n==c&&clearTimeout(p),f=e.clientX,d=e.clientY,f&&d||(t=e.targetTouches[0],f=t.clientX,d=t.clientY),l=n,y=w=!1,h=M?n.getBoundingClientRect():null,_&&(clearTimeout(v),M=!1,v=setTimeout(function(){M=!0},_)),o.onStart.call(b,e,n))}function r(e){var t,n,i,r;l&&(M?e.preventDefault():clearTimeout(m),r=e.target,n=e.clientX,i=e.clientY,r&&n&&i||(t=e.changedTouches[0],n=n||t.clientX,i=i||t.clientY,r=r||$(n,i)),M?n>h.left-E&&n<h.right+E&&i>h.top-E&&i<h.bottom+E?(y=!1,L(l,g),o.onMoveIn.call(b,e,r)):(y=!0
,x(l,g),o.onMoveOut.call(b,e,r)):!w&&10<I(i-d)&&(w=!0,x(l,g),o.onCancel.call(r,e)),o.onMove.call(b,e,r))}function s(e){var t,n;l&&(clearTimeout(m),S?(T&&!w&&L(l,g),t=l,p=setTimeout(function(){x(t,g)},S)):x(l,g),o.onEnd.call(b,e,l),n=3==e.which||2==e.button,w||y||n||o.onTap.call(b,e,l),c=l,l=null,setTimeout(function(){f=d=null},400))}function a(e){l&&(x(l,g),l=f=d=null,o.onCancel.call(b,e))}function u(e){D(e.target,i)?e.preventDefault():f&&d&&I(e.clientX-f)<25&&I(e.clientY-d)<25&&(
e.stopPropagation(),e.preventDefault())}var l,c,f,d,h,m,p,v,b=o.containerElement||k.body,w=!1,y=!1,g=o.activeClass,T=o.activeClassDelay,S=o.inactiveClassDelay,M=o.noScroll,_=o.noScrollDelay,E=o.boundMargin;return b.addEventListener(A.start,n,!1),b.addEventListener(A.move,r,!1),b.addEventListener(A.end,s,!1),b.addEventListener("touchcancel",a,!1),o.allowClick||b.addEventListener("click",u,!1),{el:b,destroy:function(){return b.removeEventListener(A.start,n,!1),b.removeEventListener(A.move,r,!1),
b.removeEventListener(A.end,s,!1),b.removeEventListener("touchcancel",a,!1),o.allowClick||b.removeEventListener("click",u,!1),this}}}}),function(){var e;"performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1&&(e=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now(),window.performance.now=function(){return Date.now()-e})}()
;var TWEEN=TWEEN||function(){var n=[];return{getAll:function(){return n},removeAll:function(){n=[]},add:function(e){n.push(e)},remove:function(e){e=n.indexOf(e);-1!==e&&n.splice(e,1)},update:function(e){if(0===n.length)return!1;var t=0;for(e=void 0!==e?e:window.performance.now();t<n.length;)n[t].update(e)?t++:n.splice(t,1);return!0}}}();TWEEN.Tween=function(e){var t,l=e,c={},f={},d={},h=1e3,m=0,p=!1,n=!1,v=0,b=null,w=TWEEN.Easing.Linear.None,y=TWEEN.Interpolation.Linear,g=[],T=null,S=!1,M=null,
_=null,i=null;for(t in e)c[t]=parseFloat(e[t],10);this.to=function(e,t){return void 0!==t&&(h=t),f=e,this},this.start=function(e){for(var t in TWEEN.add(this),S=!(n=!0),b=void 0!==e?e:window.performance.now(),b+=v,f){if(f[t]instanceof Array){if(0===f[t].length)continue;f[t]=[l[t]].concat(f[t])}void 0!==c[t]&&(c[t]=l[t],c[t]instanceof Array==!1&&(c[t]*=1),d[t]=c[t]||0)}return this},this.stop=function(){return n&&(TWEEN.remove(this),n=!1,null!==i&&i.call(l),this.stopChainedTweens()),this},
this.stopChainedTweens=function(){for(var e=0,t=g.length;e<t;e++)g[e].stop()},this.delay=function(e){return v=e,this},this.repeat=function(e){return m=e,this},this.yoyo=function(e){return p=e,this},this.easing=function(e){return w=e,this},this.interpolation=function(e){return y=e,this},this.chain=function(){return g=arguments,this},this.onStart=function(e){return T=e,this},this.onUpdate=function(e){return M=e,this},this.onComplete=function(e){return _=e,this},this.onStop=function(e){return i=e,
this},this.update=function(e){var t,n,i,r,o,s;if(e<b)return!0;for(t in!1===S&&(null!==T&&T.call(l),S=!0),i=w(n=1<(n=(e-b)/h)?1:n),f)void 0!==c[t]&&(r=c[t]||0,(o=f[t])instanceof Array?l[t]=y(o,i):"number"==typeof(o="string"==typeof o?o.startsWith("+")||o.startsWith("-")?r+parseFloat(o,10):parseFloat(o,10):o)&&(l[t]=r+(o-r)*i));if(null!==M&&M.call(l,i),1!==n)return!0;if(0<m){for(t in isFinite(m)&&m--,d)"string"==typeof f[t]&&(d[t]=d[t]+parseFloat(f[t],10)),p&&(s=d[t],d[t]=f[t],f[t]=s),c[t]=d[t]
;return p&&0,b=e+v,!0}null!==_&&_.call(l);for(var a=0,u=g.length;a<u;a++)g[a].start(b+h);return!1}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},
InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},
InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)))},Out:function(e){var t,n=.1
;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095
;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*TWEEN.Easing.Bounce.In(2*e):.5*TWEEN.Easing.Bounce.Out(2*e-1)+.5}}},TWEEN.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),o=TWEEN.Interpolation.Utils.Linear
;return t<0?o(e[0],e[1],i):1<t?o(e[n],e[n-1],n-i):o(e[r],e[n<r+1?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,o=TWEEN.Interpolation.Utils.Bernstein,s=0;s<=i;s++)n+=r(1-t,i-s)*r(t,s)*e[s]*o(i,s);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),o=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[n]?o(e[((r=t<0?Math.floor(i=n*(1+t)):r)-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):1<t?e[n]-(o(e[n],e[n],e[n-1],
e[n-1],i-n)-e[n]):o(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=TWEEN.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var i=[1];return function(e){var t=1;if(i[e])return i[e];for(var n=e;1<n;n--)t*=n;return i[e]=t}}(),CatmullRom:function(e,t,n,i,r){var o=.5*(n-e),e=.5*(i-t),i=r*r;return(2*t-2*n+o+e)*(r*i)+(-3*t+3*n-2*o-e)*i+o*r+t}}},function(e){
"function"==typeof define&&define.amd?define([],function(){return TWEEN}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=TWEEN:void 0!==e&&(e.TWEEN=TWEEN)}(this),function(){for(var o=0,e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(
window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-o)),r=window.setTimeout(function(){e(n+i)},i);return o=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var relativeDate=function(){var e=864e5,t=365*e,n=t/12,s=[[42e3,"just now"],[9e4,"a minute ago"],[36e5,"minutes ago",6e4],[54e5,"an hour ago"],[e,"hours ago",36e5],[2*e,"yesterday"],[7*e,"days ago",e],[9072e5,"a week ago"],[n,"weeks ago",6048e5],[3942e6,
"a month ago"],[t,"months ago",n],[1.5*t,"a year ago"],[Number.MAX_VALUE,"years ago",t]];return function(e,t){for(var n,i=(t=(t=t||(new Date).getTime())instanceof Date?t.getTime():t)-(e=e instanceof Date?e.getTime():e),r=-1,o=s.length;++r<o;)if(i<(n=s[r])[0])return null==n[2]?n[1]:Math.round(i/n[2])+" "+n[1]}}();"undefined"!=typeof module&&module.exports&&(module.exports=relativeDate),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(
):"function"==typeof define&&define.amd?define(t):e.dayjs=t()}(this,function(){"use strict";function i(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e}var r="millisecond",f="second",d="minute",h="hour",m="day",p="week",v="month",s="quarter",b="year",o=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,w=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,e={s:i,z:function(e){var t=-e.utcOffset()
,n=Math.abs(t),e=Math.floor(n/60),n=n%60;return(t<=0?"+":"-")+i(e,2,"0")+":"+i(n,2,"0")},m:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,v),r=t-i<0,e=e.clone().add(n+(r?-1:1),v);return Number(-(n+(t-i)/(r?i-e:e-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:v,y:b,w:p,d:m,D:"date",h:h,m:d,s:f,ms:r,Q:s}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},t={name:"en",
weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},a="en",u={};u[a]=t;function l(e){return e instanceof T}function c(e,t,n){var i;return e?("string"==typeof e?(u[e]&&(i=e),t&&(u[e]=t,i=e)):(t=e.name,u[t]=e,i=t),n||(a=i),i):a}function y(e,t,n){return l(e)?e.clone():((t=t?"string"==typeof t?{format:t,pl:n}:t:{}).date=e,new T(t))}var g=e;g.l=c,g.i=l,g.w=function(e,t
){return y(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var T=((e=n.prototype).parse=function(i){this.$d=function(){var e=i.date,t=i.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(o);if(n)return t?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(e)}(),this.init()},e.init=function(){
var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},e.$utils=function(){return g},e.isValid=function(){return!("Invalid Date"===this.$d.toString())},e.isSame=function(e,t){e=y(e);return this.startOf(t)<=e&&e<=this.endOf(t)},e.isAfter=function(e,t){return y(e)<this.startOf(t)},e.isBefore=function(e,t){return this.endOf(t)<y(e)},e.$g=function(e,t,n){
return g.u(e)?this[t]:this.set(n,e)},e.year=function(e){return this.$g(e,"$y",b)},e.month=function(e){return this.$g(e,"$M",v)},e.day=function(e){return this.$g(e,"$W",m)},e.date=function(e){return this.$g(e,"$D","date")},e.hour=function(e){return this.$g(e,"$H",h)},e.minute=function(e){return this.$g(e,"$m",d)},e.second=function(e){return this.$g(e,"$s",f)},e.millisecond=function(e){return this.$g(e,"$ms",r)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){
return this.$d.getTime()},e.startOf=function(e,t){function n(e,t){return e=g.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r),o?e:e.endOf(m)}function i(e,t){return g.w(r.toDate()[e].apply(r.toDate(),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),r)}var r=this,o=!!g.u(t)||t,e=g.p(e),s=this.$W,a=this.$M,u=this.$D,l="set"+(this.$u?"UTC":"");switch(e){case b:return o?n(1,0):n(31,11);case v:return o?n(1,a):n(0,a+1);case p:var c=this.$locale().weekStart||0,c=(s<c?s+7:s)-c;return n(o?u-c:u+(6-c),a);case m:
case"date":return i(l+"Hours",0);case h:return i(l+"Minutes",1);case d:return i(l+"Seconds",2);case f:return i(l+"Milliseconds",3);default:return this.clone()}},e.endOf=function(e){return this.startOf(e,!1)},e.$set=function(e,t){var n=g.p(e),i="set"+(this.$u?"UTC":""),e=((e={}).day=i+"Date",e.date=i+"Date",e[v]=i+"Month",e[b]=i+"FullYear",e[h]=i+"Hours",e[d]=i+"Minutes",e[f]=i+"Seconds",e[r]=i+"Milliseconds",e[n]),t=n===m?this.$D+(t-this.$W):t;return n===v||n===b?((n=this.clone().set("date",1)
).$d[e](t),n.init(),this.$d=n.set("date",Math.min(this.$D,n.daysInMonth())).toDate()):e&&this.$d[e](t),this.init(),this},e.set=function(e,t){return this.clone().$set(e,t)},e.get=function(e){return this[g.p(e)]()},e.add=function(n,e){var i=this;n=Number(n);var t=g.p(e),e=function(e){var t=y(i);return g.w(t.date(t.date()+Math.round(e*n)),i)};if(t===v)return this.set(v,this.$M+n);if(t===b)return this.set(b,this.$y+n);if(t===m)return e(1);if(t===p)return e(7);(e={})[d]=6e4,e[h]=36e5,e[f]=1e3,
t=e[t]||1,t=this.$d.getTime()+n*t;return g.w(t,this)},e.subtract=function(e,t){return this.add(-1*e,t)},e.format=function(e){var r=this;if(!this.isValid())return"Invalid Date";function t(e,t,n,i){return e&&(e[t]||e(r,o))||n[t].substr(0,i)}function n(e){return g.s(a%12||12,e,"0")}var o=e||"YYYY-MM-DDTHH:mm:ssZ",i=g.z(this),s=this.$locale(),a=this.$H,u=this.$m,l=this.$M,c=s.weekdays,f=s.months,e=s.meridiem||function(e,t,n){e=e<12?"AM":"PM";return n?e.toLowerCase():e},d={YY:String(this.$y).slice(-2
),YYYY:this.$y,M:l+1,MM:g.s(l+1,2,"0"),MMM:t(s.monthsShort,l,f,3),MMMM:f[l]||f(this,o),D:this.$D,DD:g.s(this.$D,2,"0"),d:String(this.$W),dd:t(s.weekdaysMin,this.$W,c,2),ddd:t(s.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:g.s(a,2,"0"),h:n(1),hh:n(2),a:e(a,u,!0),A:e(a,u,!1),m:String(u),mm:g.s(u,2,"0"),s:String(this.$s),ss:g.s(this.$s,2,"0"),SSS:g.s(this.$ms,3,"0"),Z:i};return o.replace(w,function(e,t){return t||d[e]||i.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(
this.$d.getTimezoneOffset()/15)},e.diff=function(e,t,n){var i=g.p(t),r=y(e),o=6e4*(r.utcOffset()-this.utcOffset()),t=this-r,e=g.m(this,r),r={};return r[b]=e/12,r[v]=e,r[s]=e/3,r[p]=(t-o)/6048e5,r.day=(t-o)/864e5,r[h]=t/36e5,r[d]=t/6e4,r[f]=t/1e3,e=r[i]||t,n?e:g.a(e)},e.daysInMonth=function(){return this.endOf(v).$D},e.$locale=function(){return u[this.$L]},e.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),t=c(e,t,!0);return t&&(n.$L=t),n},e.clone=function(){return g.w(this.$d,this)},
e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},n);function n(e){this.$L=this.$L||c(e.locale,null,!0),this.parse(e)}return y.prototype=T.prototype,y.extend=function(e,t){return e(t,T,y),y},y.locale=c,y.isDayjs=l,y.unix=function(e){return y(1e3*e)},y.en=u[a],y.Ls=u,y}),function(e){TEMPLATES={"comments-toggle":new e({
code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<button class="comments-toggle">'),i.b(i.v(i.f("comments_count",e,t,0))),i.b(" "),i.b(i.v(i.f("i_reply",e,t,0))),i.b("</button>"),i.fl()},partials:{},subs:{}}),comments:new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("comments",e,t,1),e,t,0,13,418,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<li><p class="metadata '),n.s(n.f("deleted",e,t,1),e,t,0,48,55,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("deleted")}),e.pop()),n.b('">'),
n.s(n.f("deleted",e,t,1),e,t,0,81,103,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<span>[deleted]</span>")}),e.pop()),n.s(n.f("deleted",e,t,1),e,t,1,0,0,"")||(n.b('<a href="https://news.ycombinator.com/user?id='),n.b(n.v(n.f("user",e,t,0))),n.b('" target="_blank"><b class="user">'),n.b(n.v(n.f("user",e,t,0))),n.b("</b></a>")),n.b('<time><a href="https://news.ycombinator.com/item?id='),n.b(n.v(n.f("id",e,t,0))),n.b('" target="_blank">'),n.b(n.v(n.f("time_ago",e,t,0))),n.b("</a></time></p>"),n.s(n.f(
"deleted",e,t,1),e,t,1,0,0,"")||(n.b("<p>"),n.b(n.t(n.f("content",e,t,0))),n.b("<ul>"),n.b(n.rp("<comments_list0",e,t,"")),n.b("</ul>")),n.b("</li>")}),e.pop()),i.fl()},partials:{"<comments_list0":{name:"comments_list",partials:{},subs:{}}},subs:{}}),"post-comments":new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="post-content">'),i.s(i.f("has_post",e,t,1),e,t,0,39,573,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<header><a href="'),n.b(n.v(n.f("url",e,t,0))),n.b(
'" target="_blank"><h1>'),n.b(n.v(n.f("title",e,t,0))),n.b("</h1>"),n.s(n.f("user",e,t,1),e,t,0,108,171,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("domain",e,t,1),e,t,0,119,160,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</span>")}),e.pop())}),e.pop()),n.b('</a><p class="metadata">'),n.s(n.f("user",e,t,1),e,t,0,213,408,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="inline-block">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(
n.f("i_point",e,t,0))),n.b(" by "),n.b(n.v(n.f("user",e,t,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.s(n.f("comments_count",e,t,1),e,t,0,340,382,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",e,t,0))),n.b(" "),n.b(n.v(n.f("i_comment",e,t,0)))}),e.pop()),n.b("</span>")}),e.pop()),n.s(n.f("user",e,t,1),e,t,1,0,0,"")||(n.b('<span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.b("</span>")),n.b('<a href="'),n.b(
n.v(n.f("hn_url",e,t,0))),n.b('" target="_blank" class="external-link">'),n.b(n.v(n.f("short_hn_url",e,t,0))),n.b("</a></p></header>")}),e.pop()),i.s(i.f("has_content",e,t,1),e,t,0,602,925,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<section class="grouped-tableview">'),n.b(n.t(n.f("content",e,t,0))),n.s(n.f("has_poll",e,t,1),e,t,0,663,902,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<ul class="poll">'),n.s(n.f("poll",e,t,1),e,t,0,689,888,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<li title="'),n.b(n.v(
n.f("percentage",e,t,0))),n.b('%"><span class="poll-details"><b>'),n.b(n.v(n.f("item",e,t,0))),n.b('</b> <span class="points">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b('</span></span><div class="poll-bar"><span style="width: '),n.b(n.v(n.f("width",e,t,0))),n.b('"></span></div></li>')}),e.pop()),n.b("</ul>")}),e.pop()),n.b("</section>")}),e.pop()),i.b('</div><section class="comments">'),i.s(i.f("loading",e,t,1),e,t,0,985,1055,"{{ }}")&&(i.rs(e,t,function(e,t,n){
n.b('<div class="loader"><i class="icon-loading"></i> Loading&hellip;</div>')}),e.pop()),i.s(i.f("load_error",e,t,1),e,t,0,1082,1165,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="load-error">Couldn\'t load comments.<br><button>Try again</button></div>')}),e.pop()),i.s(i.f("loading",e,t,1),e,t,1,0,0,"")||i.s(i.f("load_error",e,t,1),e,t,1,0,0,"")||(i.s(i.f("has_comments",e,t,1),e,t,0,1224,1251,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("<ul>"),n.b(n.rp("<comments_list0",e,t,"")),n.b("</ul>")})
,e.pop()),i.s(i.f("has_comments",e,t,1),e,t,1,0,0,"")||i.b('<p class="no-comments">No comments.</p>')),i.b("</section>"),i.fl()},partials:{"<comments_list0":{name:"comments_list",partials:{},subs:{}}},subs:{}}),post:new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<li id="story-'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-index="'),i.b(i.v(i.f("i",e,t,0))),i.b('" class="post-'),i.b(i.v(i.f("type",e,t,0))),i.b('"><a href="#/item/'),i.b(i.v(i.f("id",e,t,0))),i.b('" class="'),i.s(i.f(
"detail_disclosure",e,t,1),e,t,0,116,133,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("detail-disclosure")}),e.pop()),i.s(i.f("disclosure",e,t,1),e,t,0,170,180,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("disclosure")}),e.pop()),i.b(" "),i.s(i.f("selected",e,t,1),e,t,0,209,217,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("selected")}),e.pop()),i.b('"><div class="story"><b>'),i.b(i.v(i.f("title",e,t,0))),i.b("</b>"),i.s(i.f("user",e,t,1),e,t,0,276,595,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(
'<div class="metadata">'),n.s(n.f("domain",e,t,1),e,t,0,309,383,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<div class="link-text"><span class="number">#'),n.b(n.v(n.f("i",e,t,0))),n.b(" </span>"),n.b(n.v(n.f("domain",e,t,0))),n.b("</div>")}),e.pop()),n.b('<span class="inline-block">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b(" by "),n.b(n.v(n.f("user",e,t,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.s(n.f("comments_count",e,t,1)
,e,t,0,521,563,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",e,t,0))),n.b(" "),n.b(n.v(n.f("i_comment",e,t,0)))}),e.pop()),n.b("</span></div>")}),e.pop()),i.s(i.f("user",e,t,1),e,t,1,0,0,"")||(i.b('<div class="metadata">'),i.s(i.f("domain",e,t,1),e,t,0,646,726,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<span class="link-text"><span class="number">#'),n.b(n.v(n.f("i",e,t,0))),n.b(" </span>"),n.b(n.v(n.f("domain",e,t,0))),n.b("</span><br>")}),e.pop()),i.b(
'<span class="inline-block">'),i.b(i.v(i.f("time_ago",e,t,0))),i.b("</span></div>")),i.b("</div></a>"),i.s(i.f("detail_disclosure",e,t,1),e,t,0,830,898,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("url",e,t,0))),n.b('" class="detail-disclosure-button"><span></span></a>')}),e.pop()),i.b("</li>"),i.fl()},partials:{},subs:{}}),"stories-load":new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("loading",e,t,1),e,t,0,12,82,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(
'<div class="loader"><i class="icon-loading"></i> Loading&hellip;</div>')}),e.pop()),i.s(i.f("load_error",e,t,1),e,t,0,109,161,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="load-error">Couldn\'t load stories.</div>')}),e.pop()),i.fl()},partials:{},subs:{}}),visit:new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<li>    <a>        <div class="number"></div>        <div class="story">            <b>Last refreshed: '),i.b(i.v(i.f("time_ago",e,t,0))),i.b(
'</b>            <span class="metadata">                '),i.b(i.v(i.f("visit_count",e,t,0))),i.b(" "),i.b(i.v(i.f("i_visit",e,t,0))),i.b(" total            </span>        </div>    </a></li>"),i.fl()},partials:{},subs:{}})}}(Hogan.Template),function(e){var w=e.document,l=e.$=function(e){return w.getElementById(e)},o={},y={pub:function(e,t){var n=o[e];if(n)for(var i=0,r=n.length;i<r;i++)n[i].call(this,t)},sub:function(e,t){o[e]||(o[e]=[]),o[e].push(t)},currentView:null,hideAllViews:function(){
for(var e=w.querySelectorAll(".view"),t=0,n=e.length;t<n;t++)e[t].classList.add("hidden")},tmpl:function(e,t){e=TEMPLATES[e];if(e)return t?e.render(t):e},setTitle:function(e){var t="HckrWeb";e&&(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase()!=t.toLowerCase()&&(t=e+" – "+t),document.title=t}};"undefined"!=typeof ga&&y.sub("logAPIError",function(e){ga("send","event","Errors","API",e)});var g=y.tmpl;amplify.store.sessionStorage&&"function"==typeof amplify.store.sessionStorage||(
amplify.store.sessionStorage=amplify.store.memory);function T(e){var t=a[e];if(t)return t;s.href=e;var n=s.hostname.replace(/^www\./,""),i=(r=s.pathname.replace(/^\//,"").split("/")[0]).length,r=n.length<=25&&3<i&&i<=15&&/^[^0-9][^.]+$/.test(r)?"/"+r:"";return a[e]=t=n+r}var s=w.createElement("a"),a={},u=w.querySelector("#view-home .scroll").querySelector("section"),c=!1;y.news={options:{disclosure:!0},markupStory:function(e){return/^item/i.test(e.url)?e.url="#/item/"+e.id:(e.external=!0,
e.domain=T(e.url)),y.news.options.disclosure?("link"==e.type&&(e.detail_disclosure=!0),/^#\//.test(e.url)&&(e.detail_disclosure=!1,e.disclosure=!0,e.domain=null)):e.id&&(e.url="#/item/"+e.id),e.i_point=1==e.points?"point":"points",e.i_comment=1==e.comments_count?"comment":"comments","visit"==e.type?(e.i_visit=1==e.visit_count?"refresh":"refreshes",g("visit",e)):g("post",e)},markupStories:function(e,t){var n="";var i=y.news.markupStory;return e.forEach(function(e){n+=i(e)}),n},
updateStory:function(e){if(e&&e.id){var n,i,t=e.id,r=e.data,e="hacker-news",o=amplify.store(e);if(o)for(var s=0,a=o.length;s<a;s++)if(t==(u=o[s]).id){n=u;break}if(!n&&(e="hacker-news2",o=amplify.store(e)))for(var u,s=0,a=o.length;s<a;s++)if(t==(u=o[s]).id){n=u;break}n&&(i=!1,["title","url","time_ago","comments_count","points"].forEach(function(e){var t=r[e];n[e]!=t&&(n[e]=t,i=!0)}),i&&(amplify.store(e,o),(e=l("story-"+t))&&(n.selected=!!e.querySelector("a[href].selected"),
n.i=e.dataset?e.dataset.index:e.getAttribute("data-index"),e.insertAdjacentHTML("afterend",y.news.markupStory(n)),e.parentNode.removeChild(e))))}},render:function(e){var t,n,i,r,o;c||(e=e||{},t=amplify.store("hacker-news-cached"),n=g("stories-load"),i=function(e){var t=e.slice(),e=amplify.store("next"),e='<ul class="tableview tableview-links" id="hwlist">'+y.news.markupStories(t
)+'<li><a class="more-link">More&hellip; ('+e+') <span class="loader"><i class="icon-loading"></i></span></a></li></ul>';u.innerHTML=e,y.pub("onRenderNews")},t?(r=amplify.store("hacker-news"),(e=e.delay)?(c=!0,u.innerHTML=n.render({loading:!0}),setTimeout(function(){c=!1,i(r)},e)):i(r)):(c=!0,u.innerHTML=n.render({loading:!0}),o=function(){u.innerHTML=n.render({load_error:!0}),y.pub("logAPIError","news")},hnapi.news(null,function(e){c=!1,e&&!e.error?i(e):o()},function(e){c=!1,o()})))},
reload:function(){amplify.store("news-latest",null),amplify.store("next",null),y.news.render({})},more:function(n){var e;n.classList.contains("loading")||(n.classList.add("loading"),amplify.store("hacker-news2"),e=amplify.store("next"),hnapi.news(e,function(e){n.classList.remove("loading");var t=n.parentNode;t&&(t.parentNode&&t.parentNode.removeChild(t),e&&(e=e.slice(),e=y.news.markupStories(e),l("hwlist").insertAdjacentHTML("beforeend",e),e=amplify.store("next"),l("hwlist").insertAdjacentHTML(
"beforeend",'<li><a class="more-link">More&hellip; ('+e+') <span class="loader"></span></a></li>')))}))}};var t=l("view-comments"),S=t.querySelector("header h1"),M=t.querySelector("section");y.comments={currentID:null,render:function(t){if(t){var e=amplify.store.sessionStorage("hacker-item-"+t);if(y.comments.currentID!=t||!e){y.comments.currentID=t;function n(e,t){var n=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(e),i=g("post-comments");if(
n.has_post=!!n.title||"comment"==n.type,!n.has_post)return y.setTitle(),S.innerHTML="",M.innerHTML=i.render(n),y.pub("adjustCommentsSection"),void y.pub("onRenderComments");var r,o,e=g("comments");/^item/i.test(n.url)?n.url="//news.ycombinator.com/"+n.url:n.domain=T(n.url),n.has_comments=n.comments&&!!n.comments.length,n.i_point=1==n.points?"point":"points",n.i_comment=1==n.comments_count?"comment":"comments",n.has_content=!!n.content,n.poll&&(o=r=0,n.poll.forEach(function(e){var t=e.points
;o<t&&(o=t),r+=t,e.i_point=1==t?"point":"points"}),n.poll.forEach(function(e){var t=e.points;e.percentage=(t/r*100).toFixed(1),e.width=(t/o*100).toFixed(1)+"%"}),n.has_poll=n.has_content=!0),n.short_hn_url="news.ycombinator.com/item?id="+t,n.hn_url="//"+n.short_hn_url,y.setTitle(n.title),S.innerHTML=n.title;var e=i.render(n,{comments_list:e}),s=w.createElement("div");s.innerHTML=e;for(var a=s.querySelectorAll("a"),u=0,l=a.length;u<l;u++)a[u].target="_blank";var c=n.user;if(c)for(
var f=s.querySelectorAll(".user"),u=0,l=f.length;u<l;u++){var d=f[u];d.textContent.trim()==c&&(d.classList.add("op"),d.title="Original Poster")}if(2e4<e.length)for(var h=s.querySelectorAll(".comments>ul>li>ul"),m=g("comments-toggle"),p=0,l=h.length;p<l;p++){var v=h[p],b=v.querySelectorAll(".metadata").length;v.style.display="none",b&&v.insertAdjacentHTML("beforebegin",m.render({comments_count:b,i_reply:1==b?"reply":"replies"}))}for(;M.hasChildNodes();)M.removeChild(M.childNodes[0]);for(
;s.hasChildNodes();)M.appendChild(s.childNodes[0]);delete s,y.pub("onRenderComments")}if(e)M.scrollTop=0,n(e,t);else{var i=amplify.store("hacker-news");if(i)for(var r=0,o=i.length;r<o;r++){var s=i[r];if(t==s.id){e=s;break}}if(!e)if(i=amplify.store("hacker-news2"))for(r=0,o=i.length;r<o;r++){s=i[r];if(t==s.id){e=s;break}}e?(e.loading=!0,n(e,t)):n({loading:!0},t);function a(){e?(delete e.loading,e.load_error=!0,n(e,t)):n({load_error:!0},t),y.pub("logAPIError","comments")}hnapi.item(t,function(e){
y.comments.currentID==t&&(!e||e.error&&"comments"==y.currentView?a():(amplify.store.sessionStorage("hacker-item-"+t,e,{expires:3e5}),y.news.updateStory({id:t,data:e}),n(e,t)))},function(e){y.comments.currentID==t&&a()})}}}},toggle:function(e){var t=e.nextElementSibling;t&&(e=t.style,t=M.scrollTop,e.display="none"==e.display?"":"none",M.scrollTop=t)},reload:function(){y.comments.currentID=null,ruto.reload()}},y.init=function(){amplify.store("next",null),y.news.render(),ruto.init(),function e(){
var t,n,i,r,o,s=Array.from(document.styleSheets).find(function(e){return/hw.*\.css/i.test(e.href)});function a(e){"dark"===e?(t.media.mediaText="screen",i.content="dark"):"light"===e?(t.media.mediaText="not all",i.content="light"):(t.media.mediaText="(prefers-color-scheme: dark)",i.content="dark light")}s?(t=Array.from(s.cssRules).find(function(e){return e.media&&/color-scheme:\s*dark/i.test(e.media.mediaText)}))&&(l("hw-appearance-container").hidden=!1,n=l("hw-appearance"),i=l(
"meta-color-scheme"),r=window.matchMedia&&"not all"!==window.matchMedia("(prefers-color-scheme)").media,o="hw-appearance",a(s=localStorage.getItem(o)||"auto"),r?(n.querySelector("[name=hw-appearance][value=auto]").parentNode.hidden=!1,n.querySelector("[name=hw-appearance][value="+s+"]").checked=!0):(/(light|dark)/i.test(s)||(s="light"),n.querySelector('[name=hw-appearance][value="'+s+'"]').checked=!0),n.onclick=function(){var e=n.querySelector("[name=hw-appearance]:checked").value
;localStorage.setItem(o,e),a(e)}):setTimeout(e,1e3)}()},e.hw=y,ruto.config({before:function(e,t){y.hideAllViews();var n=l("view-"+t);n.classList.remove("hidden"),y.currentView=t,y.setTitle(n.querySelector("header h1").textContent)},notfound:function(){ruto.go("/")}}).add("/","home").add("/about","about").add(/^\/item\/(\d+)$/i,"comments",function(e,t){y.comments.render(t)})}(window),function(n){function a(e,t,n){for(var i=0;i<s;i++)r[i]||(t=t.toLowerCase()),e.addEventListener(r[i]+t,n,!1)}
function u(e,t,n){for(var i=0;i<s;i++)r[i]||(t=t.toLowerCase()),e.removeEventListener(r[i]+t,n,!1)}function l(e){var t=e.in,n=e.out,i=t.classList,r=n.classList,e=e.direction,o=f[e],s=function(){r.add("hidden"),r.remove(o[0]),i.remove(o[1]),u(t,"AnimationEnd",s)};a(t,"AnimationEnd",s),i.remove("hidden"),i.add(o[1]),r.add(o[0])}function c(e){var t,n=e.in,i=e.out,r=n.classList,o=i.classList;"up"==e.direction?(o.add("no-pointer"),r.remove("hidden"),r.add("slide-up")):(a(i,"AnimationEnd",t=function(
){o.remove("slide-down"),o.add("hidden"),r.remove("no-pointer"),u(i,"AnimationEnd",t)}),o.remove("slide-up"),o.add("slide-down"))}function t(){return 736<(e.offsetWidth||n.innerWidth)?"wide":"narrow"}var o=n.document,e=o.body,r=["webkit","moz","MS","o",""],s=r.length,f={rtl:["slide-out-to-left","slide-in-from-right"],ltr:["slide-out-to-right","slide-in-from-left"]},i=o.querySelector("meta[name=viewport]");i||((i=o.createElement("meta")).name="viewport",o.head.appendChild(i)),
i.content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0";var d="wide"==t();n.addEventListener("resize",function(){var e="wide"==t();e!=d&&(d=e,location.reload())}),d&&e.insertAdjacentHTML("beforeend",'<div id="overlay" class="hide"></div>');var h=!1;document.addEventListener("touchstart",function(e){e=e.targetTouches[0].clientX;(e<20||e>window.innerWidth-20)&&(h=!0)}),document.addEventListener("touchend",function(e){h=!1}),ruto.config({
before:function(e,t,n){var i,r=hw.previousView=hw.currentView,t=hw.currentView=t,o=hw.hideAllViews,s=$("view-"+t);switch(hw.setTitle(s.querySelector("header h1").textContent),t){case"home":d?(o(),$("overlay").classList.add("hide"),s.classList.remove("hidden"),(i=$("view-comments")).classList.remove("hidden"),i.querySelector("section").innerHTML='<div class="view-blank-state"><div class="view-blank-state-text">No Story Selected.</div></div>',i.querySelector("header h1").innerHTML="",
i.querySelector("header a.header-back-button").style.display="none",hw.comments.currentID=null,hw.pub("selectCurrentStory")):"comments"!=r||h?"about"!=r||h?(o(),s.classList.remove("hidden")):c({in:s,out:$("view-"+r),direction:"down"}):l({in:s,out:$("view-"+r),direction:"ltr"});break;case"about":d?(s.classList.remove("hidden"),$("view-home").classList.remove("hidden"),$("view-comments").classList.remove("hidden"),setTimeout(function(){$("overlay").classList.remove("hide")},1)):"home"!=r||h?(o(),
$("view-home").classList.remove("hidden"),s.classList.remove("hidden")):c({in:s,out:$("view-"+r),direction:"up"}),"undefined"!=typeof ga&&ga("send","pageview",e);break;case"comments":d?(o(),$("overlay").classList.add("hide"),s.classList.remove("hidden"),$("view-home").classList.remove("hidden"),hw.pub("selectCurrentStory",n[1]),s.querySelector("header a.header-back-button").style.display=""):"home"!=r||h?(o(),s.classList.remove("hidden")):((i=n[1])&&hw.comments.currentID!=i&&(s.querySelector(
"section").scrollTop=0),l({in:s,out:$("view-"+r),direction:"rtl"}))}}}),n.addEventListener("pagehide",function(){for(var e=o.querySelectorAll(".view"),t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.id]=r.querySelector(".scroll section").scrollTop||0}amplify.store("hacker-scrolltops",t)},!1);i=function(){var e,t=amplify.store("hacker-scrolltops");for(e in t)$(e).querySelector(".scroll section").scrollTop=t[e]};n.addEventListener("pageshow",i,!1),i(),tappable(".view>header a.header-button[href]",{
noScroll:!0,onTap:function(e,t){t=t.hash;d&&/about/i.test(ruto.current)&&"#/"==t?ruto.back("/"):location.hash=t}}),tappable("#view-home-refresh",{noScroll:!0,onTap:hw.news.reload});var m,p=!1;tappable(".view>header h1",{onTap:function(e,t){var i,r=t.parentNode.nextElementSibling.firstElementChild;0==r.scrollTop||p||p||(p=!0,i=r.style.overflow,r.style.overflow="hidden",setTimeout(function(){r.style.overflow=i;var e=new TWEEN.Tween({scrollTop:r.scrollTop}).to({scrollTop:0},300).easing(
TWEEN.Easing.Cubic.InOut).onUpdate(function(){r.scrollTop=this.scrollTop}).onComplete(function(){cancelAnimationFrame(n),e.stop(),p=!1,delete e}).start(),t=function(){TWEEN.update(),requestAnimationFrame(t)},n=requestAnimationFrame(t)},200))}}),tappable("#view-home .tableview-links li>a:first-child",{allowClick:!d,activeClassDelay:100,inactiveClassDelay:d?100:1e3,onStart:function(e,t){var n;!d||(n=t.parentNode)&&(n=n.parentNode,m=setTimeout(function(){n&&n.classList.add("list-tapped")},100))},
onMove:function(){d&&clearTimeout(m)},onEnd:function(e,t){var n;d&&(clearTimeout(m),n=t.parentNode.parentNode,setTimeout(function(){n&&n.classList.remove("list-tapped")},100))},onTap:function(e,t){t.classList.contains("more-link")?hw.news.more(t):/^#\//.test(t.getAttribute("href"))?location.hash=t.hash:t.href&&d&&n.open(t.href)}}),tappable("#view-about .grouped-tableview-links li>a:first-child",{allowClick:!0,activeClassDelay:100,inactiveClassDelay:1e3}),tappable(
"#view-home .tableview-links li>a.detail-disclosure",{noScroll:!0,noScrollDelay:100,onTap:function(e,t){"comments"!=hw.currentView&&(location.hash=t.hash)}}),tappable("button.comments-toggle",function(e,t){hw.comments.toggle(t)}),tappable("#view-comments .load-error button",hw.comments.reload),hw.sub("selectCurrentStory",function(e){if(d){e=e||(location.hash.match(/item\/(\d+)/)||[,""])[1];for(var t,n=$("view-home"),i=n.querySelectorAll("a[href].selected"),r=0,o=i.length;r<o;r++
)i[r].classList.remove("selected");!e||(t=n.querySelector('a[href*="item/'+e+'"]'))&&(t.classList.add("selected"),setTimeout(function(){t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView()},1))}}),hw.sub("onRenderNews",function(){hw.pub("selectCurrentStory")}),d&&setTimeout(function(){$("view-about").classList.add("animated")},400),hw.news.options.disclosure=!d,hw.init()}(window);
//# sourceMappingURL=hw-ios-2.min.js.map